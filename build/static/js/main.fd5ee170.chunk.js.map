{"version":3,"sources":["components/ContactList/ContactList.module.css","components/Filter/Filter.module.css","redux/contacts/contacts-selectors.js","redux/contacts/contacts-actions.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-reducer.js","components/ContactForm/ContactForm.js","components/Loader/Loader.js","components/ContactList/ContactList.js","components/Filter/Filter.js","App.js","redux/store.js","index.js","components/ContactForm/ContactForm.module.css"],"names":["module","exports","getContacts","state","contacts","items","getFilter","filter","isLoading","loading","filterContacts","createAction","axios","defaults","baseURL","fetchContacts","createAsyncThunk","_","a","rejectWithValue","get","data","addContact","name","number","getState","contact","find","el","alert","post","deleteContact","id","delete","createReducer","fulfilled","payload","pending","rejected","combineReducers","INITIAL_STATE","phone","ContactForm","useState","setContact","dispatch","useDispatch","handleChange","target","value","reset","onSubmit","e","preventDefault","contactsOperations","className","s","form","form__label","type","form__input","pattern","title","required","onChange","form__button","PendingLoader","color","height","width","ContactList","useSelector","contactsSelectors","normalizedFilter","toLowerCase","includes","getFilteredContacts","useEffect","Loader","length","map","contacts__item","contacts__button","onClick","onDeleteContact","Filter","filter__input","contactsActions","App","store","configureStore","reducer","contactsReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","logger","devTools","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd5ee170.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"ContactList_contacts__1nE6a\",\"contacts__item\":\"ContactList_contacts__item__2VeqK\",\"contacts__button\":\"ContactList_contacts__button__21K_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__2N9AF\",\"filter__input\":\"Filter_filter__input__iFBVN\"};","export const getContacts = state => state.contacts.items;\r\nexport const getFilter = state => state.contacts.filter;\r\nexport const isLoading = state => state.contacts.loading;","import { createAction } from '@reduxjs/toolkit';\n\nexport const filterContacts = createAction('contacts/filter');","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://61a24087014e1900176de8a4.mockapi.io';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n    'contacts/fetch',\r\n    async (_, { rejectWithValue }) => {\r\n        try {\r\n            const { data } = await axios.get('/contacts');\r\n            return data;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    },\r\n);\r\n\r\nexport const addContact = createAsyncThunk(\r\n    'contacts/add',\r\n    async ({ name, number }, { getState, rejectWithValue }) => {\r\n        try {\r\n            const contact = {\r\n                name,\r\n                number,\r\n            };\r\n            const state = getState();\r\n            const currentsContacts = state.contacts.items;\r\n\r\n            if (currentsContacts.find(el => el.name === name)) {\r\n                alert(`${name} is already in contacts`);\r\n                return rejectWithValue();\r\n            }\r\n\r\n            const { data } = await axios.post('/contacts', contact);\r\n            return data;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    },\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n    'contacts/delete',\r\n    async (id, { rejectWithValue }) => {\r\n        try {\r\n            await axios.delete(`/contacts/${id}`);\r\n            return id;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    },\r\n);\r\n","import {combineReducers} from 'redux';\nimport {createReducer} from '@reduxjs/toolkit';\nimport { filterContacts } from './contacts-actions';\nimport { fetchContacts, addContact, deleteContact } from './contacts-operations';\n\nconst items = createReducer([], {\n    [fetchContacts.fulfilled]: (_, {payload}) => payload,\n    [addContact.fulfilled]: (state, { payload }) => [payload, ...state],\n    [deleteContact.fulfilled]: (state, {payload}) => state.filter(contact => contact.id !== payload),\n});\n\nconst filter = createReducer('', {\n    [filterContacts]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {    \n    [fetchContacts.pending]: () => true,\n    [fetchContacts.fulfilled]: () => false,\n    [fetchContacts.rejected]: () => false,\n    [addContact.pending]: () => true,\n    [addContact.fulfilled]: () => false,\n    [addContact.rejected]: () => false,\n    [deleteContact.pending]: () => true,\n    [deleteContact.fulfilled]: () => false,\n    [deleteContact.rejected]: () => false,\n})\n\nexport default combineReducers({\n    items,\n    filter,\n    loading,\n});\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {contactsOperations} from 'redux/contacts';\nimport s from './ContactForm.module.css';\n\nconst INITIAL_STATE = {\n  name: '',\n  phone: '',\n};\n\nfunction ContactForm() {\n  const [contact, setContact] = useState(INITIAL_STATE);\n  const dispatch = useDispatch();\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setContact({\n      ...contact,\n      [name]: value\n    })\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(contactsOperations.addContact(contact));\n    reset();\n  };\n\n  const reset = () => {\n    setContact(INITIAL_STATE);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={s.form}>\n      <label className={s.form__label}>\n        Name\n        <input\n          type=\"text\"\n          className={s.form__input}\n          name=\"name\"\n          value={contact.name}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          required\n          onChange={handleChange}\n        />\n      </label>\n      <label className={s.form__label}>\n        Phone\n        <input\n          type=\"tel\"\n          className={s.form__input}\n          name=\"phone\"\n          value={contact.phone}\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n          required\n          onChange={handleChange}\n        />\n      </label>\n      <button type=\"submit\" className={s.form__button}>Add contact</button>\n    </form>\n  );\n}\n\nContactForm.propTypes = {\n  target: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    phone: PropTypes.string.isRequired,\n  }),\n};\n\nexport default ContactForm;\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nfunction PendingLoader() {\r\n    return <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#1b7bc9\"\r\n        height={80}\r\n        width={80}      \r\n    />;    \r\n}\r\n\r\nexport default PendingLoader;","import React, {useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {contactsSelectors, contactsOperations} from 'redux/contacts';\nimport s from './ContactList.module.css';\nimport { Loader } from 'components/Loader';\n\nconst getFilteredContacts = (contacts, filter) => {\n  const normalizedFilter = filter.toLowerCase();\n  return contacts.filter(contact => contact.name.toLowerCase().includes(normalizedFilter));\n};\n\nfunction ContactList() {\n  const isLoading = useSelector(contactsSelectors.isLoading);\n  const contacts = useSelector(({contacts: {items, filter}}) => getFilteredContacts(items, filter));\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(contactsOperations.fetchContacts());\n  }, [dispatch]);\n\n  const onDeleteContact = id => (dispatch(contactsOperations.deleteContact(id)));\n\n  return (\n  <>\n    {isLoading && <Loader />}\n    <ul className={s.contacts}>      \n      {(contacts.length > 1) && (\n        contacts.map(({ id, name, phone }) => (\n        <li key={id} className={s.contacts__item}>\n          {name}: {phone}\n          <button type=\"button\" className={s.contacts__button} onClick={() => onDeleteContact(id)}>Delete</button>\n        </li>))\n      )}\n    </ul>\n  </>\n  );\n}\n\nContactList.propTypes = {\n  contacts: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      phone: PropTypes.string.isRequired,\n    }),\n  ),\n};\n\nexport default ContactList;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {contactsSelectors, contactsActions} from 'redux/contacts';\nimport s from './Filter.module.css';\n\nfunction Filter() {\n  const value = useSelector(contactsSelectors.getFilter);\n  const dispatch = useDispatch();\n\n  const onFilterChange = e => dispatch(contactsActions.filterContacts(e.target.value));\n\n  return (\n    <>\n      <p className={s.filter}>Find contacts by name</p>\n      <input\n        type=\"text\"\n        className={s.filter__input}\n        value={value}\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n        title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n        onChange={onFilterChange}\n      />\n    </>\n  );\n}\n\nFilter.propTypes = {\n  value: PropTypes.string,\n};\n\nexport default Filter;\n","import 'App.css';\nimport {ContactForm} from 'components/ContactForm';\nimport {ContactList} from 'components/ContactList';\nimport { Filter } from 'components/Filter';\n\nfunction App() {\n  return (   \n    <div>\n      <h1>Phonebook</h1>\n      <ContactForm />\n\n      <h2>Contacts</h2>\n      <Filter />\n      <ContactList />       \n    </div>\n  );\n}\n\nexport default App;\n","import {configureStore} from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport { FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER } from 'redux-persist';\nimport {contactsReducer} from './contacts';\n\nconst store = configureStore({\n    reducer: {\n        contacts: contactsReducer,\n    },\n    middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n        serializableCheck: {\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n        },\n      }).concat(logger),\n    devTools: process.env.NODE_ENV === 'development',\n});\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport 'index.css';\nimport App from 'App';\nimport store from 'redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>       \n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__jfvFw\",\"form__input\":\"ContactForm_form__input__1JUZH\",\"form__label\":\"ContactForm_form__label__1U3NX\",\"form__button\":\"ContactForm_form__button__DL4r8\"};"],"sourceRoot":""}